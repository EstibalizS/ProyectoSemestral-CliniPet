<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Nueva Factura</title>
    <link rel="stylesheet" href="CSS/estilosGenerarFactura.css">
    <link rel="icon" type="image/png" href="imagenes/logo.png">
    <link rel="stylesheet" href="CSS/colorNavbar.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-dark navbar-custom px-3">
    <div class="container-fluid d-flex justify-content-between align-items-center">
      <!-- Botón del navbar y el nombre -->
      <div class="d-flex align-items-center">
        <button class="navbar-toggler me-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <h1 class="mb-0 text-white">Clini<span style="color: #ffa500;">Pet</span></h1>
      </div>

      <!-- Iconos - atrás y página principal -->
       <div class="header-icons i">
      <div class="d-flex align-items-center">
        <a href="javascript:void(0);" onclick="window.history.back();">
          <i class="fa-solid fa-arrow-left"></i>
        </a>
        <a href="PaginaPrincipal.html">
          <i class="fas fa-home"></i>
        </a>
      </div>
      </div>
    </div>
  </nav>

  <!-- Por ahora lo dejé así, pero agreguen o cambien los nombres que deben salir en el navbar -->
  <div class="collapse" id="navbarToggleExternalContent">
    <div class="navbar-menu p-4">
      <h4 class="text-white">Menú</h4>
      <ul class="list-unstyled">
        <li><a href="RegistrarInventario.html" class="text-white">Registrar Inventario</a></li>
        <li><a href="RegistroCliente.html" class="text-white">Registrar Cliente</a></li>
        <li><a href="RegistroMascotas.html" class="text-white">Registrar Mascota</a></li>
        <li><a href="actualizarCliente.html" class="text-white">Actualizar Cliente</a></li>
        <li><a href="actualizarMascota.html" class="text-white">Actualizar Mascota</a></li>
        <li><a href="ConsultarMascotaCliente.html" class="text-white">Consultar Mascota y Cliente</a></li>
        <li><a href="informacion.html" class="text-white">Información</a></li>
      </ul>
    </div>
  </div>

  <div class="container">
    <h1>Crear Nueva Factura</h1>
    <form id="formNuevaFactura">
      <div class="mb-3">
        <label for="cedula" class="form-label">Cédula del Cliente</label>
        <input type="text" class="form-control" id="cedula" placeholder="Ingrese la cédula del cliente" required>
      </div>
      <div class="mb-3">
        <label for="mascota" class="form-label">Mascota</label>
        <select class="form-select" id="mascota" disabled>
          <option value="" disabled selected>Seleccione una mascota</option>
        </select>
      </div>
      <div class="button-group">
        <button type="button" class="btn" id="buscarMascotas">Buscar Mascotas</button>
        <button type="button" class="btn" id="siguiente" disabled>Siguiente</button>
    </div>
    </form>


    <!-- Recuadro de la prefactura (oculto inicialmente) -->
    <div id="prefactura" style="display: none;">
      <h2>Detalles de la Prefactura</h2>
      <p><strong>ID Factura:</strong> <span id="prefactura-id"></span></p>
      

      <!-- Botones para elegir entre productos o servicios -->
      <button id= "btnProductos" type="button" onclick="mostrarFormulario('producto')" class="btn btn-secondary">Productos</button>
      <button id= "btnServicios" type="button" onclick="mostrarFormulario('servicio')" class="btn btn-secondary">Servicios</button>

      <!-- Formulario para productos (oculto inicialmente) -->
      <div id="form-producto" style="display: none;">
          <h3>Agregar Producto</h3>
          <div class="form-group">
              <label for="producto-id">Seleccione un Producto:</label>
              <select id="productos" name="producto-id" class="form-control"><option value="" disabled selected>Seleccione un producto</option>
              </select> 
          </div>
          <div class="form-group">
              <label for="producto-cantidad">Cantidad:</label>
              <input type="number" id="producto-cantidad" name="producto-cantidad" required class="form-control" min="1">
          </div>
          <button id= "btnAgregarProducto" type="button" class="btn btn-primary">Agregar Producto</button>
      </div>

      <!-- Formulario para servicios (oculto inicialmente) -->
      <div id="form-servicio" style="display: none;">
          <h3>Registrar Servicio a Mascota</h3>
          <div class="form-group">
              <label for="servicio-id">Seleccione un Servicio:</label>
              <select id="servicios" name="servicio-id" class="form-control">
                <option value="" disabled selected>Seleccione un servicio</option>
            </select>
          </div>
          <div class="form-group">
              <label for="mascota-id">ID de la Mascota:</label>
              <input type="number" id="mascota-id" name="mascota-id" required class="form-control" readonly>
          </div>
          <button id="btnAgregarServicio" type="button"  class="btn btn-primary">Agregar Servicio</button>
      </div>
      <button id="btnFinalizarFactura" class="btn btn-primary mt-3" onclick="finalizarFactura()">Finalizar Factura</button>
    </div>
  
    <div id="mensaje" class="alert alert-danger mt-3" style="display: none;"></div>
  </div>
  
  <script src="JS/generarFactura.js"></script>
  <footer class="footer">
    © 2024 CliniPet. Todos los derechos reservados.
  </footer>
</body>
</html>